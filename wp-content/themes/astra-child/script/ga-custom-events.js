document.addEventListener("DOMContentLoaded",function(){function logRecommendedPlan(){let teamPlanPrice=document.getElementById('pro-plan-price');let organizationPlanPrice=document.getElementById('organization-plan-price');let currentRecommendedPlan=document.querySelector(".price-plan-card.recommended-plan");let planName=currentRecommendedPlan?currentRecommendedPlan.querySelector(".plan-name").innerText:'Self Plan';let planPrice=planName==='Enterprise Plan'?organizationPlanPrice.innerText:planName==='Pro Plan'?teamPlanPrice.innerText:'0';gtag("event","Recommended Plan",{event_category:"Recommended Plan",action:"click",event_label:planName,event_plan_price:planPrice,});}
document.querySelectorAll(".specmatic-user-type-card").forEach(function(userType){userType.addEventListener("click",function(){gtag("event","User Selection",{event_category:"User Selection",action:"click",event_label:this.querySelector("h3").innerText,});logRecommendedPlan();});});document.querySelectorAll("input[type='range'], input[type='checkbox']").forEach(function(input){input.addEventListener("change",function(){gtag("event","Pricing Form "+this.type.charAt(0).toUpperCase()+this.type.slice(1)+" Input",{event_category:"Pricing Form Input",action:"input",event_label:this.id+":"+this.value,});});});document.querySelectorAll("select").forEach(function(select){select.addEventListener("change",function(){gtag("event","Pricing Form Select Country",{event_category:"Pricing Form Input",action:"select",event_label:this.id+":"+this.value,});});});document.querySelectorAll(".pricing-cta-btn").forEach(function(button){button.addEventListener("click",function(){let teamPlanPrice=document.getElementById('pro-plan-price');let organizationPlanPrice=document.getElementById('organization-plan-price');let planName=this.getAttribute("data-plan-name");const requiredTextInputs=Array.from(document.querySelectorAll('input[required]'));const emailInput=document.getElementById('email');const emailIsValid=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value);const checkboxes=document.querySelectorAll('input[name="spec"]');const checkboxChecked=Array.from(checkboxes).some(checkbox=>checkbox.checked);if(emailIsValid&&checkboxChecked&&requiredTextInputs.every(input=>input.value.trim()!=='')){gtag("event","Sign Up Button Click",{event_category:"Sign Up",action:"click",event_label:planName,event_status:'success',event_plan_price:planName==='Enterprise Plan'?organizationPlanPrice.innerText:planName==='Pro Plan'?teamPlanPrice.innerText:'0',});}else{const unfilledInputs=requiredTextInputs.filter(input=>input.value.trim()==='').map(input=>input.id);if(!emailIsValid)unfilledInputs.push(emailInput.id);if(!checkboxChecked)unfilledInputs.push('api-spec-checkboxes');gtag("event","Sign Up Attempt Failed",{event_category:"Sign Up",action:"click",event_label:"Required inputs not filled",event_unfilled_inputs:Array.from(new Set(unfilledInputs||[])).join(', '),event_status:'failed',});}});});document.getElementById("pricing-plans-container").querySelectorAll("a").forEach(function(link){link.addEventListener("click",function(){gtag("event","Feature Link Clicks",{event_category:"Feature Link",action:"click",event_label:this.innerText,event_link:this.href,});});});document.getElementById("pricing-form").addEventListener("submit",function(){gtag("event","Pricing Form Submission",{event_category:"Pricing Form Submission",action:"submit",event_label:this.id,});});});