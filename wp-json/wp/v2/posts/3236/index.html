{"id":3236,"date":"2023-10-19T12:48:00","date_gmt":"2023-10-19T07:18:00","guid":{"rendered":"https:\/\/specmatic.dvox.biz\/?p=3236"},"modified":"2023-10-19T13:32:43","modified_gmt":"2023-10-19T08:02:43","slug":"tmforum-oda-ctk-api-specification-conformance-testing-with-specmatic","status":"publish","type":"post","link":"https:\/\/specmatic.dvox.biz\/updates\/tmforum-oda-ctk-api-specification-conformance-testing-with-specmatic\/","title":{"rendered":"TMForum ODA CTK API specification conformance testing with Specmatic"},"content":{"rendered":"\n<figure class=\"wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<div class=\"ast-oembed-container \" style=\"height: 100%;\"><iframe title=\"TMForum ODA CTK API specification conformance testing - Cypress vs Specmatic showdown\" width=\"500\" height=\"281\" src=\"https:\/\/www.youtube.com\/embed\/Vn7NofxWBnM?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen><\/iframe><\/div>\n<\/div><\/figure>\n\n\n\n<div style=\"height:40px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">Introduction<\/h2>\n\n\n\n<p><a href=\"https:\/\/www.tmforum.org\/\" data-type=\"link\" data-id=\"https:\/\/www.tmforum.org\/\">TMForum<\/a> is a collaborative platform for service providers, technology suppliers, and other stakeholders in the telco space to share best practices, develop standards, and drive innovation. Their Open API program is a global initiative to enable seamless connectivity, interoperability and portability across complex ecosystem services. And in this context, TMForum provides a Conformance Test Kit (CTK) to self-certify implementation of their Open API specifications. This is a great idea. However we recently discovered some major issues with the TMForum Conformance Test Kit (CTK) v5.0.0 and will demonstrate how using Specmatic can address these problems.<\/p>\n\n\n\n<figure class=\"wp-block-image size-full\"><img fetchpriority=\"high\" decoding=\"async\" width=\"960\" height=\"720\" src=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK-Specmatic.gif\" alt=\"\" class=\"wp-image-3237\"\/><\/figure>\n\n\n\n<div style=\"height:20px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">The Problem with CTK5<\/h2>\n\n\n\n<p>By running the CTK5 test, we discovered that it is possible for the API implementation to successfully pass the conformance verification and yet to be out of sync with the OpenAPI specification that is on their website. When we investigated further, we realized that the CTK contains a copy of the specification on TMForum\u2019s <a href=\"https:\/\/www.tmforum.org\/oda\/open-apis\/table\">Open API Table<\/a>. And the Cypress test suite itself is a repetition of several aspects that are already specified in OpenAPI. With this duplication, comes the possibility of divergence and that is exactly what we see when comparing specifications on TMForum Open API Table (for example, the Party API, TMF 632 v5.0.0, published on 19-Sep-23) with copies of the same that ship with the CTK.<\/p>\n\n\n\n<figure class=\"wp-block-image size-full\"><img decoding=\"async\" width=\"1526\" height=\"791\" src=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK1.jpg\" alt=\"\" class=\"wp-image-3238\" srcset=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK1.jpg 1526w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK1-300x156.jpg 300w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK1-1024x531.jpg 1024w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK1-768x398.jpg 768w\" sizes=\"(max-width: 1526px) 100vw, 1526px\" \/><\/figure>\n\n\n\n<div style=\"height:20px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<p>Furthermore, the request payload that users of the CTK are supposed to modify in accordance with their test data setup, is not validated against the OpenAPI specification that is shipped with the CTK5. This may allow users to inadvertently provide an incorrect (OpenAPI schema invalid) request payload and yet successfully pass the conformance test.<\/p>\n\n\n\n<p>CTK5 also does not verify request parameters, error response schema and properties of fields such as optionality, nullability that are defined in the OpenAPI specification in the request.<\/p>\n\n\n\n<div style=\"height:40px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">Introducing Specmatic<\/h2>\n\n\n\n<p>To overcome these challenges, we replaced the Cypress tests with Specmatic contract tests. Specmatic leverages the primary source of truth, the API specification on the TMForum website, to generate tests in a completely no-code manner. By validating payloads against the specification, Specmatic ensures that the application remains in sync with the defined API structure and behavior.<\/p>\n\n\n\n<div style=\"height:20px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<h3 class=\"wp-block-heading\">Benefits of Specmatic<\/h3>\n\n\n\n<p>There are several advantages of adopting Specmatic for conformance testing:<\/p>\n\n\n\n<p>1. Elimination of Duplicate Specifications: With Specmatic, there is only one source of truth\u2014the API specification on the TMForum website. This eradicates the confusion caused by multiple specifications and ensures consistency throughout the testing process.<\/p>\n\n\n\n<p>2. Validated Request Payloads: Specmatic validates payloads against the specification before executing tests, preventing out-of-sync requests. This ensures that the implementation adheres to the defined API structure and accurately handles incoming data.<\/p>\n\n\n\n<figure class=\"wp-block-image size-full\"><img decoding=\"async\" width=\"1776\" height=\"903\" src=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK5.jpg\" alt=\"\" class=\"wp-image-3251\" srcset=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK5.jpg 1776w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK5-300x153.jpg 300w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK5-1024x521.jpg 1024w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK5-768x390.jpg 768w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK5-1536x781.jpg 1536w\" sizes=\"(max-width: 1776px) 100vw, 1776px\" \/><\/figure>\n\n\n\n<div style=\"height:20px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<p>3. Comprehensive Verification: Unlike the CTK, Specmatic verifies not only the response schema but also other crucial aspects such as 4xx error responses, optionality, nullability, and more. This comprehensive validation guarantees a higher degree of conformance and increases the reliability of API implementations.<\/p>\n\n\n\n<figure class=\"wp-block-image size-full\"><img loading=\"lazy\" decoding=\"async\" width=\"1580\" height=\"957\" src=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK3png.jpg\" alt=\"\" class=\"wp-image-3242\" srcset=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK3png.jpg 1580w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK3png-300x182.jpg 300w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK3png-1024x620.jpg 1024w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK3png-768x465.jpg 768w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK3png-1536x930.jpg 1536w\" sizes=\"(max-width: 1580px) 100vw, 1580px\" \/><\/figure>\n\n\n\n<div style=\"height:20px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<p>4. Simplified Architecture: By generating tests based on the OpenAPI specification, Specmatic eliminates the need for duplicating logic already present in the specification. This simplification streamlines the testing process and reduces maintenance efforts.<\/p>\n\n\n\n<p>5. End-to-End Testing and Fault Injection: Specmatic goes beyond conformance testing by allowing API dependencies to be stubbed out. This enables full end-to-end testing in isolation and even facilitates fault injection to ensure the application can handle various scenarios, such as timeouts and outages.<\/p>\n\n\n\n<div style=\"height:40px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">Demonstration and Comparison<\/h2>\n\n\n\n<p>By running a side-by-side comparison of the issues identified in CTK 5 and how Specmatic effectively addresses them, we can see how Specmatic&#8217;s contract tests detect incompatible changes made to the application, validate request payloads, and comprehensively verify 4xx error responses. Additionally, Specmatic provides an API coverage summary, offering an overview of the percentage of APIs that adhere to the specification.<\/p>\n\n\n\n<figure class=\"wp-block-image size-full\"><img loading=\"lazy\" decoding=\"async\" width=\"1742\" height=\"1078\" src=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK4png.jpg\" alt=\"\" class=\"wp-image-3243\" srcset=\"https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK4png.jpg 1742w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK4png-300x186.jpg 300w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK4png-1024x634.jpg 1024w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK4png-768x475.jpg 768w, https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-CTK4png-1536x951.jpg 1536w\" sizes=\"(max-width: 1742px) 100vw, 1742px\" \/><\/figure>\n\n\n\n<div style=\"height:40px\" aria-hidden=\"true\" class=\"wp-block-spacer\"><\/div>\n\n\n\n<h2 class=\"wp-block-heading\">Conclusion<\/h2>\n\n\n\n<p>Specmatic presents a superior alternative to the current Cypress based test setup in CTK for conformance testing. By leveraging the primary API specification as the single source of truth, validating request payloads, and generating tests based on the OpenAPI spec, Specmatic ensures accurate conformance of API implementations. With its simplified architecture, comprehensive verification, and additional testing capabilities, we believe Specmatic can resolve current problems and greatly enhance the abilities of the CTK.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>We recently discovered some major issues with the TMForum Conformance Test Kit (CTK) v5.0.0 and will demonstrate how using Specmatic can address these problems.<\/p>\n","protected":false},"author":5,"featured_media":3246,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_seopress_robots_primary_cat":"","_seopress_titles_title":"TMForum ODA CTK API spec conformance testing with Specmatic","_seopress_titles_desc":"We recently discovered major issues with TMForum Conformance Test Kit (CTK). We&#039;ll demonstrate how using Specmatic can address these problems","_seopress_robots_index":"","_uag_custom_page_level_css":"","site-sidebar-layout":"default","site-content-layout":"","ast-site-content-layout":"default","site-content-style":"default","site-sidebar-style":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"disabled","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","astra-migrate-meta-layouts":"set","ast-page-background-enabled":"default","ast-page-background-meta":{"desktop":{"background-color":"var(--ast-global-color-4)","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll","background-type":"","background-media":"","overlay-type":"","overlay-color":"","overlay-gradient":""},"tablet":{"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll","background-type":"","background-media":"","overlay-type":"","overlay-color":"","overlay-gradient":""},"mobile":{"background-color":"","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll","background-type":"","background-media":"","overlay-type":"","overlay-color":"","overlay-gradient":""}},"ast-content-background-meta":{"desktop":{"background-color":"var(--ast-global-color-5)","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll","background-type":"","background-media":"","overlay-type":"","overlay-color":"","overlay-gradient":""},"tablet":{"background-color":"var(--ast-global-color-5)","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll","background-type":"","background-media":"","overlay-type":"","overlay-color":"","overlay-gradient":""},"mobile":{"background-color":"var(--ast-global-color-5)","background-image":"","background-repeat":"repeat","background-position":"center center","background-size":"auto","background-attachment":"scroll","background-type":"","background-media":"","overlay-type":"","overlay-color":"","overlay-gradient":""}},"footnotes":""},"categories":[14],"tags":[20,19,57,28],"uagb_featured_image_src":{"full":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo.jpg",1920,1080,false],"thumbnail":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo-150x150.jpg",150,150,true],"medium":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo-300x169.jpg",300,169,true],"medium_large":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo-768x432.jpg",768,432,true],"large":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo-1024x576.jpg",1024,576,true],"1536x1536":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo-1536x864.jpg",1536,864,true],"2048x2048":["https:\/\/specmatic.dvox.biz\/wp-content\/uploads\/2023\/10\/TMForum-ODA-CTK-demo.jpg",1920,1080,false]},"uagb_author_info":{"display_name":"Joel Rosario","author_link":"https:\/\/specmatic.dvox.biz\/author\/joel\/"},"uagb_comment_info":0,"uagb_excerpt":"We recently discovered some major issues with the TMForum Conformance Test Kit (CTK) v5.0.0 and will demonstrate how using Specmatic can address these problems.","_links":{"self":[{"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/posts\/3236"}],"collection":[{"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/comments?post=3236"}],"version-history":[{"count":6,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/posts\/3236\/revisions"}],"predecessor-version":[{"id":3252,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/posts\/3236\/revisions\/3252"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/media\/3246"}],"wp:attachment":[{"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/media?parent=3236"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/categories?post=3236"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/specmatic.dvox.biz\/wp-json\/wp\/v2\/tags?post=3236"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}